<mxfile host="app.diagrams.net" modified="2022-06-13T08:25:11.255Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36" etag="rocX0-SxyVBnV27IdVzK" version="18.1.3" type="github">
  <diagram id="jHzcKtj4BZgNH9L0islY" name="Page-1">
    <mxGraphModel dx="1278" dy="547" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-1" target="kzY7zWo_ARwAt6wi0qnG-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-1" value="开始" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="175" y="150" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-2" target="kzY7zWo_ARwAt6wi0qnG-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-2" value="设置对外部时钟采样的采样分频。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="525" y="350" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-3" target="kzY7zWo_ARwAt6wi0qnG-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-3" value="设置时钟分频系数为71。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="270" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-4" target="kzY7zWo_ARwAt6wi0qnG-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-4" value="设置自动重装载寄存器的值为9999。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="525" y="200" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-5" value="定时器4初始化函数(设置采样时间为10ms)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="585" y="510" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-6" value="main函数" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="510" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-7" value="定时器4中断服务函数" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="307.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="290" as="targetPoint" />
            <Array as="points">
              <mxPoint x="130" y="450" />
              <mxPoint x="130" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-8" value="打印转速和速度调节器输出值到串口用于观察" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-9" target="kzY7zWo_ARwAt6wi0qnG-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-9" value="定时器2、3、4初始化，串口初始化，电机参数初始化" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="220" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-12" target="kzY7zWo_ARwAt6wi0qnG-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-12" target="kzY7zWo_ARwAt6wi0qnG-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-12" value="时间是否经过10ms" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="305" width="140" height="65" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-18" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="190" y="380" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-19" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="300" y="307.5" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-21" value="设置计数模式。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="525" y="420" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-22" value="使能中断通道" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="695" y="410" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-23" target="kzY7zWo_ARwAt6wi0qnG-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-23" value="设置主从优先级" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="327.5" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-24" target="kzY7zWo_ARwAt6wi0qnG-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-24" value="设置中断优先级组别" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="685" y="230" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-25" target="kzY7zWo_ARwAt6wi0qnG-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-25" value="中断优先级NVIC配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="685" y="140" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-27" target="kzY7zWo_ARwAt6wi0qnG-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-27" value="定时器时基结构体参数配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="525" y="130" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-34" value="定时器2初始化函数(捕获编码器脉冲)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="1110" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-39" target="kzY7zWo_ARwAt6wi0qnG-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-39" value="设置对外部时钟采样的采样分频。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="155" y="950" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-41" target="kzY7zWo_ARwAt6wi0qnG-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-41" value="设置时钟分频系数。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="870" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-43" target="kzY7zWo_ARwAt6wi0qnG-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-43" value="设置自动重装载寄存器的值。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="155" y="790" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-44" value="设置计数模式。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="155" y="1020" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-46" target="kzY7zWo_ARwAt6wi0qnG-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-46" value="定时器时基结构体参数配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="155" y="700" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-50" target="kzY7zWo_ARwAt6wi0qnG-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-50" value="设置捕获通道信号来源。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="325" y="860" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-52" target="kzY7zWo_ARwAt6wi0qnG-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-52" value="设置捕获的边沿。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="807" width="105" height="33" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-54" target="kzY7zWo_ARwAt6wi0qnG-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-54" value="设置捕获通道" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="750" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-55" target="kzY7zWo_ARwAt6wi0qnG-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-55" value="设置信号分频" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="332.5" y="920" width="105" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-57" target="kzY7zWo_ARwAt6wi0qnG-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-57" value="定时器输入捕获结构体参数配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="325" y="680" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-59" target="kzY7zWo_ARwAt6wi0qnG-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-59" value="设置滤波系数" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="335" y="980" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-62" value="设置信号双通道捕获使得编码器四倍频" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="327.5" y="1040" width="115" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-65" value="定时器3初始化函数(设置PWM输出)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="1110" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-67" target="kzY7zWo_ARwAt6wi0qnG-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-67" value="设置对外部时钟采样的采样分频。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="950" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-69" target="kzY7zWo_ARwAt6wi0qnG-67">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-69" value="设置时钟分频系数。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="870" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-71" target="kzY7zWo_ARwAt6wi0qnG-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-71" value="设置自动重装载寄存器的值。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="790" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-72" value="设置计数模式。" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="1020" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-74" target="kzY7zWo_ARwAt6wi0qnG-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-74" value="定时器时基结构体参数配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="555" y="700" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-76" target="kzY7zWo_ARwAt6wi0qnG-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-76" value="设置占空比" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="725" y="900" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-78" target="kzY7zWo_ARwAt6wi0qnG-76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-78" value="设置输出使能" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="732.5" y="840" width="105" height="33" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-80" target="kzY7zWo_ARwAt6wi0qnG-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-80" value="设置模式为PWM1" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="732.5" y="777" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-82" target="kzY7zWo_ARwAt6wi0qnG-87">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="785" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-82" value="&lt;p&gt;设置输出通道电平极性&lt;br&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="732.5" y="970" width="105" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-84" target="kzY7zWo_ARwAt6wi0qnG-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-84" value="定时器输出比较结构体参数配置" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="725" y="700" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-87" value="设置信号双通道捕获使得编码器四倍频" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="727.5" y="1040" width="115" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-91" value="定时器4中断服务函数(位置速度双闭环实现)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="304.37" y="1683" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-95" target="kzY7zWo_ARwAt6wi0qnG-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-95" value="进入中断次数变量T_time加一" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="110" y="1420" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-97" target="kzY7zWo_ARwAt6wi0qnG-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-97" value="清除中断标志位" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="115" y="1340" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-98" value="调用位置PID函数返回位置输出量给p_Pid_Out并限幅" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="102.5" y="1680" width="145" height="56" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="kzY7zWo_ARwAt6wi0qnG-97">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="175" y="1300" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-104" value="结束" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="351.25" y="1370" width="105" height="33" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-106" target="kzY7zWo_ARwAt6wi0qnG-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-106" value="将速度调节器输出值赋值给定时器3的CCR2寄存器，控制PWM占空比" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="343.12" y="1470" width="121.25" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-110" target="kzY7zWo_ARwAt6wi0qnG-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-110" value="计算当前转速值,将位置环输出值作为期望速度调用速度PID函数，返回速度控制量并且限幅" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="316.25" y="1582.5" width="175" height="75" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-112" target="kzY7zWo_ARwAt6wi0qnG-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-124" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="kzY7zWo_ARwAt6wi0qnG-123">
          <mxGeometry x="-0.3166" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-112" value="&lt;span style=&quot;&quot;&gt;判断中断标志位是否产生中断&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1230" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-113" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="140" y="1300" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-114" target="kzY7zWo_ARwAt6wi0qnG-98">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-114" target="kzY7zWo_ARwAt6wi0qnG-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-114" value="T_time是否为3的倍数" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="102.5" y="1590" width="145" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-115" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="135" y="1654" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kzY7zWo_ARwAt6wi0qnG-116" target="kzY7zWo_ARwAt6wi0qnG-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kzY7zWo_ARwAt6wi0qnG-116" value="读取编码器的脉冲数，计算当前总共产生脉冲数赋值给变量Position_Sum" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="102.5" y="1500" width="145" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
